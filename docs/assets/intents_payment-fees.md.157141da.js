import{_ as s,o as n,c as a,Q as e}from"./chunks/framework.0c8e00f4.js";const h=JSON.parse('{"title":"Payment Fees","description":"Learn how to add fee configurations to payment intents.","frontmatter":{"title":"Payment Fees","description":"Learn how to add fee configurations to payment intents."},"headers":[],"relativePath":"intents/payment-fees.md","filePath":"intents/payment-fees.md"}'),o={name:"intents/payment-fees.md"},l=e(`<h1 id="payment-fees" tabindex="-1">Payment Fees <a class="header-anchor" href="#payment-fees" aria-label="Permalink to &quot;Payment Fees&quot;">​</a></h1><p>In addition to standard micropayments, you can now collect a basis point fee from each payment. This feature allows merchants to add configurable fees to their transactions seamlessly.</p><h2 id="adding-fees-to-payment-intents" tabindex="-1">Adding Fees to Payment Intents <a class="header-anchor" href="#adding-fees-to-payment-intents" aria-label="Permalink to &quot;Adding Fees to Payment Intents&quot;">​</a></h2><p>To include fees in your payment intents, simply add a <code>fees</code> section within your payment options. Here&#39;s how you can configure it:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> code </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;https://js.getcode.com/v1&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">button</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> code.elements.</span><span style="color:#B392F0;">create</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;button&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  currency: </span><span style="color:#9ECBFF;">&#39;usd&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  destination: </span><span style="color:#9ECBFF;">&#39;E8otxw1CVX9bfyddKu3ZB3BVLa4VVF9J7CTPdnUwT9jR&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  amount: </span><span style="color:#79B8FF;">0.25</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  fees: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      destination: </span><span style="color:#9ECBFF;">&#39;E8otxw1CVX9bfyddKu3ZB3BVLa4VVF9J7CTPdnUwT9jR&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      basisPoints: </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 10% fee (e.g., 2.5 cents on a 25-cent payment)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">button.</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#button-container&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> code </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;https://js.getcode.com/v1&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">button</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> code.elements.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;button&#39;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">  currency: </span><span style="color:#032F62;">&#39;usd&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  destination: </span><span style="color:#032F62;">&#39;E8otxw1CVX9bfyddKu3ZB3BVLa4VVF9J7CTPdnUwT9jR&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  amount: </span><span style="color:#005CC5;">0.25</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  fees: [</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      destination: </span><span style="color:#032F62;">&#39;E8otxw1CVX9bfyddKu3ZB3BVLa4VVF9J7CTPdnUwT9jR&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      basisPoints: </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 10% fee (e.g., 2.5 cents on a 25-cent payment)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">button.</span><span style="color:#6F42C1;">mount</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#button-container&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h3 id="customizing-fees" tabindex="-1">Customizing Fees <a class="header-anchor" href="#customizing-fees" aria-label="Permalink to &quot;Customizing Fees&quot;">​</a></h3><p>You can configure multiple fee objects if you need to support more than one fee recipient. Each fee object should specify the <code>destination</code> and the <code>basisPoints</code>. The <code>basisPoints</code> represent hundredths of a percent (e.g., <code>1000</code> basis points equals <code>10%</code>).</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">button</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> code.elements.</span><span style="color:#B392F0;">create</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;button&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...other configurations</span></span>
<span class="line"><span style="color:#E1E4E8;">  fees: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      destination: </span><span style="color:#9ECBFF;">&#39;&lt;FeeRecipientAddress1&gt;&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      basisPoints: </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 5% fee</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      destination: </span><span style="color:#9ECBFF;">&#39;&lt;FeeRecipientAddress2&gt;&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      basisPoints: </span><span style="color:#79B8FF;">300</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 3% fee</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">button</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> code.elements.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;button&#39;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...other configurations</span></span>
<span class="line"><span style="color:#24292E;">  fees: [</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      destination: </span><span style="color:#032F62;">&#39;&lt;FeeRecipientAddress1&gt;&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      basisPoints: </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 5% fee</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      destination: </span><span style="color:#032F62;">&#39;&lt;FeeRecipientAddress2&gt;&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      basisPoints: </span><span style="color:#005CC5;">300</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 3% fee</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h4 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h4><ul><li><strong>Transparent Fee Disclosure</strong>: Inform users about any additional fees to maintain transparency and trust.</li></ul><h3 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h3><ul><li><strong>Fee Count:</strong> You can specify up to 5 fee recipients per payment.</li><li><strong>Fee Total:</strong> The maximum fee percentage cannot exceed 10% of the payment amount.</li><li><strong>Compatibility:</strong> Ensure that the destination addresses provided for fees are valid addresses.</li></ul><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>This feature is currently not supported by the PHP, Python, or Go libraries. These SDKs will be updated to support this feature in the future.</p><p>In the meantime, you can achieve the same functionality by sending a POST containing a signed <code>RequestToReceiveBill</code>. You can read more about this in our <a href="./custom-backends.html">Code API</a> section.</p></div><h2 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-label="Permalink to &quot;Further Reading&quot;">​</a></h2><ul><li><a href="./../intents/introduction.html">Payment Intents</a></li><li><a href="./../reference/browser-events.html">Browser Events</a></li></ul>`,15),p=[l];function t(c,r,i,E,y,d){return n(),a("div",null,p)}const m=s(o,[["render",t]]);export{h as __pageData,m as default};
