import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.0c8e00f4.js";const h=JSON.parse('{"title":"Server-side Install","description":"","frontmatter":{},"headers":[],"relativePath":"guide/installation-server.md","filePath":"guide/installation-server.md"}'),e={name:"guide/installation-server.md"},p=l(`<h1 id="server-side-install" tabindex="-1">Server-side Install <a class="header-anchor" href="#server-side-install" aria-label="Permalink to &quot;Server-side Install&quot;">​</a></h1><p>While server-side integration is optional, you&#39;ll usually want to confirm payment on the server-side. The SDK is split into multiple <a href="./installation.html#packages">packages</a>, each of which can be installed separately. This allows you to install only the packages you need, and avoid installing unnecessary dependencies.</p><p>A typical server-side integration will look something like this:</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">sequenceDiagram</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">autonumber</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">participant</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">User</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">participant</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">Client</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">User</span><span style="color:#F97583;">-&gt;&gt;</span><span style="color:#FFAB70;">Client</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Land on payment page</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">Client</span><span style="color:#F97583;">-&gt;&gt;</span><span style="color:#FFAB70;">Server</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Send order information</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">Server</span><span style="color:#F97583;">-&gt;&gt;</span><span style="color:#FFAB70;">Code Sequencer</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">POST /v1/createIntent</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">Code Sequencer</span><span style="color:#F97583;">-&gt;&gt;</span><span style="color:#FFAB70;">Server</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Return PaymentIntent status</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">Server</span><span style="color:#F97583;">-&gt;&gt;</span><span style="color:#FFAB70;">Client</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Return PaymentIntent&#39;s client_secret</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">Client</span><span style="color:#F97583;">-&gt;&gt;</span><span style="color:#FFAB70;">Code Sequencer</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Open message stream at rendezvous value</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">sequenceDiagram</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">autonumber</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">participant</span><span style="color:#24292E;"> </span><span style="color:#E36209;">User</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">participant</span><span style="color:#24292E;"> </span><span style="color:#E36209;">Client</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">User</span><span style="color:#D73A49;">-&gt;&gt;</span><span style="color:#E36209;">Client</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Land on payment page</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">Client</span><span style="color:#D73A49;">-&gt;&gt;</span><span style="color:#E36209;">Server</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Send order information</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">Server</span><span style="color:#D73A49;">-&gt;&gt;</span><span style="color:#E36209;">Code Sequencer</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">POST /v1/createIntent</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">Code Sequencer</span><span style="color:#D73A49;">-&gt;&gt;</span><span style="color:#E36209;">Server</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Return PaymentIntent status</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">Server</span><span style="color:#D73A49;">-&gt;&gt;</span><span style="color:#E36209;">Client</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Return PaymentIntent&#39;s client_secret</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">Client</span><span style="color:#D73A49;">-&gt;&gt;</span><span style="color:#E36209;">Code Sequencer</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Open message stream at rendezvous value</span></span></code></pre></div><p>You can learn more about the payment flow <a href="./../intents/payment-requests.html">here</a>.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-kklJH" id="tab-g3-IOwq" checked="checked"><label for="tab-g3-IOwq">npm</label><input type="radio" name="group-kklJH" id="tab-suoPSR9"><label for="tab-suoPSR9">pip</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@code-wallet/client</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@code-wallet/client</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pip</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">code-wallet</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">code-wallet</span></span></code></pre></div></div></div><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">​</a></h2><p>Once installed, you can import the SDK into your project.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Y-luB" id="tab-jtAEbIm" checked="checked"><label for="tab-jtAEbIm">Node.js / Bun</label><input type="radio" name="group-Y-luB" id="tab-TSzEgNv"><label for="tab-TSzEgNv">Python</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> code </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@code-wallet/client&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">intent</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> code.paymentIntents.</span><span style="color:#B392F0;">create</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> code </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@code-wallet/client&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">intent</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> code.paymentIntents.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> code_wallet.client.intents </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> payment_intents</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">payment_intents.create({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">#...</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> code_wallet.client.intents </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> payment_intents</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">payment_intents.create({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">#...</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></div></div><p>See a minimal server example <a href="./../example/payment-verification.html">here</a>.</p><div class="info custom-block"><p class="custom-block-title">Full Examples</p><p>If you prefer running full examples, we have a few available.</p><p>Checkout the full <a href="https://github.com/code-wallet/code-sdk/tree/main/examples" target="_blank" rel="noreferrer">Node.js Examples</a> and our <a href="https://github.com/code-wallet/code-sdk-python/tree/main/example" target="_blank" rel="noreferrer">Python Examples</a></p></div>`,12),o=[p];function t(c,r,i,y,E,d){return a(),n("div",null,o)}const F=s(e,[["render",t]]);export{h as __pageData,F as default};
